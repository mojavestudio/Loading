{
  "version": 3,
  "sources": ["Loading.tsx"],
  "sourcesContent": ["/**\n * Loading \u2014 Framer Motion edition\n * - Progress bar uses framer-motion (useSpring + motion.div)\n * - Fires onReady once when: all( minTimer, race(ready, timeout) )\n * - Ready = WindowLoad OR (WindowLoad + Fonts + Images [+Bg] + Quiet)\n * - No effect on Canvas/Thumbnail; Preview obeys Run in Preview\n * - Intrinsic sizing only (Framer handles layout/stacking)\n */\n\n/** @framerIntrinsicWidth  600 */\n/** @framerIntrinsicHeight 8  */\n/** @framerSupportedLayoutWidth any-prefer-fixed */\n/** @framerSupportedLayoutHeight any */\n\nimport * as React from \"react\"\nimport { addPropertyControls, ControlType, RenderTarget } from \"framer\"\nimport { motion, useSpring } from \"framer-motion\"\n\ntype WaitMode = \"WindowLoad\" | \"FontsAndImages\"\n\ntype FontControlValue = {\n    fontFamily?: string\n    family?: string\n    fontWeight?: string | number\n    weight?: string | number\n    fontStyle?: string\n    style?: string\n    fontSize?: number | string\n    letterSpacing?: number | string\n    lineHeight?: number | string\n}\n\ntype LoadBarConfig = {\n    showProgressBar: boolean\n    barRadius: number\n    barColor: string\n    trackColor: string\n    showLabel: boolean\n    labelColor: string\n    labelFontSize: number\n    labelFontFamily: string\n    labelFontWeight: string | number\n    labelFont?: FontControlValue\n    labelPosition: \"left\" | \"center\" | \"right\"\n    labelPlacement: \"inside\" | \"outside\"\n    labelOutsideDirection: \"top\" | \"bottom\"\n    waitBarFinish: boolean\n    finishHoldSeconds: number\n    showBorder: boolean\n    borderWidth: number\n    borderColor: string\n}\n\ntype Props = {\n    style?: React.CSSProperties\n    id?: string\n\n    // Gate\n    waitMode: WaitMode\n    imageScopeSelector: string\n    includeBackgrounds: boolean\n    quietSeconds: number\n    minSeconds: number\n    timeoutSeconds: number\n    oncePerSession: boolean\n    runInPreview: boolean\n    onReady?: (event?: any) => void\n    customReadySelector: string\n    customReadyEvent: string\n    labelPosition?: \"left\" | \"center\" | \"right\"\n    labelPlacement?: \"inside\" | \"outside\"\n    labelOutsideDirection?: \"top\" | \"bottom\"\n    loadBar?: Partial<LoadBarConfig>\n    bar?: Partial<LoadBarConfig>\n    label?: Partial<LoadBarConfig>\n    \n    // Auto-hide when complete\n    hideWhenComplete: boolean\n    \n    // Variant to switch to when complete (for parent component control)\n    completeVariant?: string\n\n    // Progress visuals (legacy overrides; prefer loadBar)\n    showProgressBar?: boolean\n    barRadius?: number\n    barColor?: string\n    trackColor?: string\n    showLabel?: boolean\n    labelColor?: string\n    labelFontSize?: number\n    labelFontFamily?: string\n    labelFontWeight?: string | number\n\n    // Finish behavior\n    waitBarFinish?: boolean\n    finishHoldSeconds?: number\n\n    // Border (optional)\n    showBorder?: boolean\n    borderWidth?: number\n    borderColor?: string\n}\n\nconst SESSION_FLAG = \"PageReadyGate:ready\"\nconst WEIGHTS = { assets: 0.6, fonts: 0.2, load: 0.2 }\n\nconst DEFAULT_LOAD_BAR: LoadBarConfig = {\n    showProgressBar: true,\n    barRadius: 999,\n    barColor: \"#854FFF\",\n    trackColor: \"rgba(0,0,0,.12)\",\n    showLabel: true,\n    labelColor: \"#222\",\n    labelFontSize: 11,\n    labelFontFamily: 'Inter, -apple-system, BlinkMacSystemFont, \"Segoe UI\", sans-serif',\n    labelFontWeight: 600,\n    labelFont: {\n        fontFamily: 'Inter, -apple-system, BlinkMacSystemFont, \"Segoe UI\", sans-serif',\n        fontWeight: 600,\n        fontSize: 11,\n    },\n    labelPosition: \"right\",\n    labelPlacement: \"inside\",\n    labelOutsideDirection: \"bottom\",\n    waitBarFinish: true,\n    finishHoldSeconds: 0.12,\n    showBorder: false,\n    borderWidth: 2,\n    borderColor: \"rgba(0,0,0,.2)\",\n}\n\nconst MIN_TIMER_PROGRESS_WEIGHT = 0.8\nconst MAX_PROGRESS_BEFORE_FINAL = 0.98\n\nexport default function Loading(p: Props) {\n    const t = RenderTarget.current()\n    const isCanvas = t === RenderTarget.canvas\n    const isThumb = t === RenderTarget.thumbnail\n    const isPreview = t === RenderTarget.preview\n    const gatingOff = isCanvas || isThumb || (isPreview && !p.runInPreview)\n\n    const progress = useSpring(0, { stiffness: 140, damping: 22 })\n    const labelRef = React.useRef<HTMLDivElement | null>(null)\n    const rootRef = React.useRef<HTMLDivElement | null>(null)\n    const gateStartRef = React.useRef<number | null>(null)\n    const timerProgressRef = React.useRef(0)\n    const readinessProgressRef = React.useRef(0)\n    const loadBarOverrides = (p.loadBar || {}) as Partial<LoadBarConfig> & {\n        bar?: Partial<LoadBarConfig>\n        label?: Partial<LoadBarConfig>\n    }\n    const rootBarOverrides = (p.bar || {}) as Partial<LoadBarConfig>\n    const rootLabelOverrides = (p.label || {}) as Partial<LoadBarConfig>\n    const nestedBarOverrides = {\n        ...(loadBarOverrides.bar || {}),\n        ...rootBarOverrides,\n    } as Partial<LoadBarConfig>\n    const nestedLabelOverrides = {\n        ...(loadBarOverrides.label || {}),\n        ...rootLabelOverrides,\n    } as Partial<LoadBarConfig>\n    const fontOverride =\n        (nestedLabelOverrides.labelFont as FontControlValue | undefined) ??\n        loadBarOverrides.labelFont ??\n        DEFAULT_LOAD_BAR.labelFont\n    const fontSizeFromFont = parseFontSizeValue(fontOverride?.fontSize)\n\n    const showProgressBar = coalesce(\n        p.showProgressBar,\n        nestedBarOverrides.showProgressBar,\n        loadBarOverrides.showProgressBar,\n        DEFAULT_LOAD_BAR.showProgressBar\n    )!\n    const barRadius = coalesce(\n        p.barRadius,\n        nestedBarOverrides.barRadius,\n        loadBarOverrides.barRadius,\n        DEFAULT_LOAD_BAR.barRadius\n    )!\n    const barColor = coalesce(\n        p.barColor,\n        nestedBarOverrides.barColor,\n        loadBarOverrides.barColor,\n        DEFAULT_LOAD_BAR.barColor\n    )!\n    const trackColor = coalesce(\n        p.trackColor,\n        nestedBarOverrides.trackColor,\n        loadBarOverrides.trackColor,\n        DEFAULT_LOAD_BAR.trackColor\n    )!\n    const waitBarFinish = coalesce(\n        p.waitBarFinish,\n        nestedBarOverrides.waitBarFinish,\n        loadBarOverrides.waitBarFinish,\n        DEFAULT_LOAD_BAR.waitBarFinish\n    )!\n    const finishHoldSeconds = coalesce(\n        p.finishHoldSeconds,\n        nestedBarOverrides.finishHoldSeconds,\n        loadBarOverrides.finishHoldSeconds,\n        DEFAULT_LOAD_BAR.finishHoldSeconds\n    )!\n    const showBorder = coalesce(\n        p.showBorder,\n        nestedBarOverrides.showBorder,\n        loadBarOverrides.showBorder,\n        DEFAULT_LOAD_BAR.showBorder\n    )!\n    const borderWidth = coalesce(\n        p.borderWidth,\n        nestedBarOverrides.borderWidth,\n        loadBarOverrides.borderWidth,\n        DEFAULT_LOAD_BAR.borderWidth\n    )!\n    const borderColor = coalesce(\n        p.borderColor,\n        nestedBarOverrides.borderColor,\n        loadBarOverrides.borderColor,\n        DEFAULT_LOAD_BAR.borderColor\n    )!\n\n    const showLabel = coalesce(\n        p.showLabel,\n        nestedLabelOverrides.showLabel,\n        loadBarOverrides.showLabel,\n        DEFAULT_LOAD_BAR.showLabel\n    )!\n    const labelColor = coalesce(\n        p.labelColor,\n        nestedLabelOverrides.labelColor,\n        loadBarOverrides.labelColor,\n        DEFAULT_LOAD_BAR.labelColor\n    )!\n    const labelFontSize = coalesce(\n        p.labelFontSize,\n        nestedLabelOverrides.labelFontSize,\n        loadBarOverrides.labelFontSize,\n        fontSizeFromFont,\n        DEFAULT_LOAD_BAR.labelFontSize\n    )!\n    const labelFontFamily = coalesce(\n        p.labelFontFamily,\n        nestedLabelOverrides.labelFontFamily,\n        loadBarOverrides.labelFontFamily,\n        fontOverride?.fontFamily,\n        fontOverride?.family,\n        DEFAULT_LOAD_BAR.labelFontFamily\n    )!\n    const labelFontWeight = coalesce(\n        p.labelFontWeight,\n        nestedLabelOverrides.labelFontWeight,\n        loadBarOverrides.labelFontWeight,\n        fontOverride?.fontWeight,\n        fontOverride?.weight,\n        DEFAULT_LOAD_BAR.labelFontWeight\n    )!\n    const labelPosition = coalesce(\n        p.labelPosition,\n        nestedLabelOverrides.labelPosition,\n        loadBarOverrides.labelPosition,\n        DEFAULT_LOAD_BAR.labelPosition\n    )!\n    const labelPlacement = coalesce(\n        p.labelPlacement,\n        nestedLabelOverrides.labelPlacement,\n        loadBarOverrides.labelPlacement,\n        DEFAULT_LOAD_BAR.labelPlacement\n    )!\n    const labelOutsideDirection = coalesce(\n        p.labelOutsideDirection,\n        nestedLabelOverrides.labelOutsideDirection,\n        loadBarOverrides.labelOutsideDirection,\n        DEFAULT_LOAD_BAR.labelOutsideDirection\n    )!\n\n    const loadBarConfig: LoadBarConfig = {\n        showProgressBar,\n        barRadius,\n        barColor,\n        trackColor,\n        showLabel,\n        labelColor,\n        labelFontSize,\n        labelFontFamily,\n        labelFontWeight,\n        labelFont: fontOverride,\n        labelPosition,\n        labelPlacement,\n        labelOutsideDirection,\n        waitBarFinish,\n        finishHoldSeconds,\n        showBorder,\n        borderWidth,\n        borderColor,\n    }\n\n    React.useEffect(() => {\n        if (!showProgressBar || !showLabel) return\n        const unsub = progress.on(\"change\", (v) => {\n            if (labelRef.current)\n                labelRef.current.textContent = `${Math.round(Math.max(0, Math.min(1, v)) * 100)}%`\n        }) as (() => void) | undefined\n        return () => {\n            if (typeof unsub === \"function\") unsub()\n        }\n    }, [showProgressBar, showLabel, progress])\n\n    const firedRef = React.useRef(false)\n    const minTimerCompleteRef = React.useRef(false)\n    const readyCompleteRef = React.useRef(false)\n    const [isComplete, setIsComplete] = React.useState(false)\n\n    React.useEffect(() => {\n        if (gatingOff || firedRef.current) return\n\n        console.log(\"[Gate] Starting gate logic\")\n\n        const minSeconds = Math.max(0, p.minSeconds || 0)\n        const minMs = minSeconds * 1000\n        const timeoutSeconds = Math.max(0, p.timeoutSeconds || 0)\n        const timeoutMs = timeoutSeconds * 1000\n        const quietSeconds = Math.max(0, p.quietSeconds || 0.5)\n        const quietMs = quietSeconds * 1000\n\n        console.log(\"[Gate] Timings:\", {\n            minSeconds,\n            minMs,\n            timeoutSeconds,\n            timeoutMs,\n            quietSeconds,\n            quietMs,\n        })\n        gateStartRef.current = performance.now()\n        minTimerCompleteRef.current = minMs === 0\n        let cancelled = false\n\n        const timerWeight = minSeconds > 0 ? MIN_TIMER_PROGRESS_WEIGHT : 0\n        const readinessWeight = 1 - timerWeight\n        const applyCombinedProgress = () => {\n            const timerComponent = timerProgressRef.current * timerWeight\n            const readinessComponent = readinessProgressRef.current * readinessWeight\n            const combined = timerComponent + readinessComponent\n            progress.set(Math.min(MAX_PROGRESS_BEFORE_FINAL, combined))\n        }\n        const setTimerProgress = (value: number) => {\n            const clamped = clampValue(value)\n            if (timerProgressRef.current === clamped) return\n            timerProgressRef.current = clamped\n            applyCombinedProgress()\n        }\n        const setReadinessProgress = (value: number) => {\n            const clamped = clampValue(value)\n            if (readinessProgressRef.current === clamped) return\n            readinessProgressRef.current = clamped\n            applyCombinedProgress()\n        }\n\n        timerProgressRef.current = 0\n        readinessProgressRef.current = 0\n        applyCombinedProgress()\n        if (minTimerCompleteRef.current) {\n            setTimerProgress(1)\n        }\n\n        const getElapsedSeconds = () => {\n            const start = gateStartRef.current\n            return start == null ? 0 : (performance.now() - start) / 1000\n        }\n\n        const MINIMUM_WAIT_POLL_SECONDS = 0.25\n        const waitForMinimum = async () => {\n            if (minTimerCompleteRef.current) return\n            let lastLoggedRemainder = Number.POSITIVE_INFINITY\n            while (!cancelled) {\n                const elapsedSeconds = getElapsedSeconds()\n                if (minSeconds > 0) {\n                    setTimerProgress(elapsedSeconds / minSeconds)\n                }\n                if (elapsedSeconds >= minSeconds) {\n                    minTimerCompleteRef.current = true\n                    setTimerProgress(1)\n                    console.log(\"[Gate] Minimum time complete\", { elapsedSeconds })\n                    break\n                }\n                const remainingSeconds = Math.max(0, minSeconds - elapsedSeconds)\n                const roundedRemaining = Math.ceil(remainingSeconds)\n                if (roundedRemaining < lastLoggedRemainder) {\n                    lastLoggedRemainder = roundedRemaining\n                    console.log(\"[Gate] Minimum time pending\", {\n                        elapsedSeconds,\n                        remainingSeconds,\n                    })\n                }\n                const sleepSeconds = Math.min(MINIMUM_WAIT_POLL_SECONDS, remainingSeconds)\n                await delay(Math.max(16, sleepSeconds * 1000))\n            }\n        }\n\n        if (p.oncePerSession) {\n            try {\n                if (sessionStorage.getItem(SESSION_FLAG) === \"1\") {\n                    console.log(\"[Gate] Skipping - already ran this session (holding for minimum)\")\n                    // Important: call finalize without returning it so React cleanup stays a function\n                    // Do NOT skip the minimum; finalize() will enforce any remaining hold\n                    void finalize()\n                    return\n                }\n            } catch {}\n        }\n\n        let loadDone = document.readyState === \"complete\"\n        let fontsDone = p.waitMode === \"FontsAndImages\" ? false : true\n        let assetsFrac = p.waitMode === \"FontsAndImages\" ? 0 : 1\n\n        bumpBlend()\n\n        function setBlend(opts: {\n            loadDone?: boolean\n            fontsDone?: boolean\n            assetsFrac?: number\n        }) {\n            if (opts.loadDone !== undefined) loadDone = opts.loadDone\n            if (opts.fontsDone !== undefined) fontsDone = opts.fontsDone\n            if (opts.assetsFrac !== undefined) assetsFrac = opts.assetsFrac\n            bumpBlend()\n        }\n        \n        function bumpBlend() {\n            const blended =\n                WEIGHTS.assets * clampValue(assetsFrac) +\n                WEIGHTS.fonts * (fontsDone ? 1 : 0) +\n                WEIGHTS.load * (loadDone ? 1 : 0)\n            setReadinessProgress(Math.min(1, blended))\n        }\n\n        const waitWindow = waitForWindowLoad((done) =>\n            setBlend({ loadDone: done })\n        )\n        const readyStrict =\n            p.waitMode === \"FontsAndImages\"\n                ? waitForStrictAssets({\n                      scopeSelector: p.imageScopeSelector,\n                      includeBackgrounds: p.includeBackgrounds,\n                      quietMs,\n                      onAssetsProgress: (f) => setBlend({ assetsFrac: f }),\n                      onFontsReady: (d) => setBlend({ fontsDone: d }),\n                  })\n                : Promise.resolve()\n\n        const baseReady =\n            p.waitMode === \"WindowLoad\"\n                ? waitWindow\n                : Promise.all([waitWindow, readyStrict]).then(() => {})\n\n        const customReadyHandle = createCustomReadyWait({\n            selector: p.customReadySelector,\n            eventName: p.customReadyEvent,\n        })\n        if (customReadyHandle) {\n            console.log(\"[Gate] Waiting for custom selector\", p.customReadySelector, \"event:\", p.customReadyEvent || \"load\")\n        }\n        const ready = customReadyHandle\n            ? Promise.all([baseReady, customReadyHandle.promise]).then(() => {})\n            : baseReady\n\n        let timeoutHandle: number | undefined\n        let timeoutReached = false\n\n        const timeoutPromise =\n            timeoutMs > 0\n                ? new Promise<\"timeout\">((resolve) => {\n                      timeoutHandle = window.setTimeout(() => {\n                          timeoutReached = true\n                          resolve(\"timeout\")\n                      }, timeoutMs)\n                  })\n                : null\n\n        // Mark when the underlying readiness signal completes, but do NOT\n        // clear the timeout here \u2014 we still need the global cap while waiting\n        // for the minimum timer to elapse.\n        const readySignalPromise: Promise<void> = ready.then(() => {\n            console.log(\"[Gate] Ready state complete\")\n            readyCompleteRef.current = true\n        })\n\n        const POST_MINIMUM_POLL_MS = 1000\n        const runGate = async () => {\n            await waitForMinimum()\n            if (cancelled) return\n\n            let timedOut = timeoutReached\n\n            if (!timedOut && readyCompleteRef.current) {\n                // already satisfied\n            } else {\n                while (!cancelled && !timedOut) {\n                    if (readyCompleteRef.current) {\n                        break\n                    }\n\n                    let outcome: \"ready\" | \"timeout\" | \"tick\"\n                    if (timeoutPromise) {\n                        outcome = await Promise.race([\n                            readySignalPromise.then(() => \"ready\" as const),\n                            timeoutPromise,\n                            delay(POST_MINIMUM_POLL_MS).then(() => \"tick\" as const),\n                        ])\n                    } else {\n                        outcome = (await Promise.race([\n                            readySignalPromise.then(() => \"ready\" as const),\n                            delay(POST_MINIMUM_POLL_MS).then(() => \"tick\" as const),\n                        ])) as \"ready\" | \"tick\"\n                    }\n\n                    if (cancelled) return\n\n                    if (outcome === \"ready\") {\n                        if (timeoutHandle) {\n                            clearTimeout(timeoutHandle)\n                            timeoutHandle = undefined\n                        }\n                        break\n                    }\n\n                    if (outcome === \"timeout\") {\n                        timedOut = true\n                        console.warn(\"[Gate] Timeout reached before ready state\")\n                        break\n                    }\n\n                    console.log(\"[Gate] Minimum met; still waiting for readiness\", {\n                        elapsedSeconds: getElapsedSeconds(),\n                        readyComplete: readyCompleteRef.current,\n                    })\n                }\n            }\n\n            if (cancelled) return\n\n            console.log(\"[Gate] Minimum + readiness satisfied, finalizing\", {\n                timedOut,\n                minComplete: minTimerCompleteRef.current,\n                readyComplete: readyCompleteRef.current,\n            })\n            await finalize()\n        }\n\n        runGate().catch((err) => console.error(\"[Gate] runGate error\", err))\n\n        async function finalize(options?: { skipMinimumCheck?: boolean }) {\n            if (firedRef.current) return\n            firedRef.current = true\n\n            if (!options?.skipMinimumCheck && minMs > 0 && !minTimerCompleteRef.current) {\n                await waitForMinimum()\n            }\n\n            console.log(\"[Gate] Finalizing...\")\n\n            if (showProgressBar) {\n                progress.set(1)\n                if (waitBarFinish) {\n                    await waitUntil(() => progress.get() >= 0.995, 1200)\n                    const hold = Math.max(0, (finishHoldSeconds || 0) * 1000)\n                    if (hold) await delay(hold)\n                }\n            }\n\n            if (p.onReady) {\n                console.log(\"[Gate] Dispatching onReady event\")\n                // Fire a synthetic event that matches Framer's expectations for interaction triggers\n                p.onReady(createGateEvent(rootRef.current))\n            } else {\n                console.log(\"[Gate] No onReady handler wired; skipping dispatch\")\n            }\n\n            if (p.oncePerSession) {\n                try {\n                    sessionStorage.setItem(SESSION_FLAG, \"1\")\n                } catch {}\n            }\n\n            // Mark as complete (for hiding)\n            setIsComplete(true)\n        }\n\n        return () => {\n            cancelled = true\n            if (timeoutHandle) clearTimeout(timeoutHandle)\n            customReadyHandle?.cancel()\n            minTimerCompleteRef.current = false\n            readyCompleteRef.current = false\n            gateStartRef.current = null\n        }\n    }, [\n        gatingOff,\n        p.waitMode,\n        p.imageScopeSelector,\n        p.includeBackgrounds,\n        p.quietSeconds,\n        p.minSeconds,\n        p.timeoutSeconds,\n        p.oncePerSession,\n        p.onReady,\n        p.customReadySelector,\n        p.customReadyEvent,\n        showProgressBar,\n        waitBarFinish,\n        finishHoldSeconds,\n        progress,\n    ])\n\n    const labelStyle: React.CSSProperties = {\n        position: \"absolute\",\n        fontSize: labelFontSize,\n        fontFamily: labelFontFamily,\n        fontWeight: labelFontWeight,\n        color: labelColor,\n        pointerEvents: \"none\",\n    }\n\n    const appliedFont = fontOverride || DEFAULT_LOAD_BAR.labelFont\n    const fontStyleValue = appliedFont?.fontStyle ?? appliedFont?.style\n    if (fontStyleValue) labelStyle.fontStyle = fontStyleValue as React.CSSProperties[\"fontStyle\"]\n    if (appliedFont?.letterSpacing != null)\n        labelStyle.letterSpacing = appliedFont.letterSpacing as React.CSSProperties[\"letterSpacing\"]\n    if (appliedFont?.lineHeight != null)\n        labelStyle.lineHeight = appliedFont.lineHeight as React.CSSProperties[\"lineHeight\"]\n\n    if (labelPlacement === \"inside\") {\n        labelStyle.top = \"50%\"\n        switch (labelPosition) {\n            case \"left\":\n                labelStyle.left = 8\n                labelStyle.transform = \"translateY(-50%)\"\n                break\n            case \"center\":\n                labelStyle.left = \"50%\"\n                labelStyle.transform = \"translate(-50%, -50%)\"\n                break\n            default:\n                labelStyle.right = 8\n                labelStyle.transform = \"translateY(-50%)\"\n        }\n    } else {\n        if (labelOutsideDirection === \"top\") {\n            labelStyle.bottom = \"100%\"\n            labelStyle.marginBottom = 6\n        } else {\n            labelStyle.top = \"100%\"\n            labelStyle.marginTop = 6\n        }\n        switch (labelPosition) {\n            case \"left\":\n                labelStyle.left = 0\n                break\n            case \"center\":\n                labelStyle.left = \"50%\"\n                labelStyle.transform = \"translateX(-50%)\"\n                break\n            default:\n                labelStyle.right = 0\n                break\n        }\n    }\n\n    return (\n        <div\n            ref={rootRef}\n            style={{\n                ...p.style,\n                width: \"100%\",\n                height: \"100%\",\n                position: \"relative\",\n                display: (p.hideWhenComplete && isComplete) ? \"none\" : undefined\n            }}\n        >\n            {showProgressBar && (\n                <div\n                    style={{\n                        width: \"100%\",\n                        height: \"100%\",\n                        background: trackColor,\n                        borderRadius: barRadius,\n                        overflow: \"hidden\",\n                        border:\n                            showBorder && borderWidth > 0\n                                ? `${borderWidth}px solid ${borderColor}`\n                                : \"none\",\n                        boxSizing: \"border-box\",\n                    }}\n                >\n                    <motion.div\n                        style={{\n                            width: \"100%\",\n                            height: \"100%\",\n                            background: barColor,\n                            borderRadius: barRadius,\n                            transformOrigin: \"left center\",\n                            scaleX: progress,\n                        }}\n                    />\n                </div>\n            )}\n            {showProgressBar && showLabel && (\n                <div ref={labelRef} style={labelStyle}>\n                    0%\n                </div>\n            )}\n        </div>\n    )\n}\n\nfunction delay(ms: number) {\n    return new Promise<void>((res) => setTimeout(res, ms))\n}\n\nfunction waitUntil(pred: () => boolean, timeoutMs: number) {\n    return new Promise<void>((res) => {\n        const deadline = performance.now() + timeoutMs\n        const step = () => {\n            if (pred() || performance.now() >= deadline) return res()\n            requestAnimationFrame(step)\n        }\n        step()\n    })\n}\n\nfunction waitForWindowLoad(onProgress: (done: boolean) => void) {\n    return new Promise<void>((resolve) => {\n        if (document.readyState === \"complete\") {\n            onProgress(true)\n            return resolve()\n        }\n        onProgress(false)\n        const onLoad = () => {\n            window.removeEventListener(\"load\", onLoad)\n            onProgress(true)\n            resolve()\n        }\n        window.addEventListener(\"load\", onLoad, { once: true })\n    })\n}\n\ntype StrictOpts = {\n    scopeSelector: string\n    includeBackgrounds: boolean\n    quietMs: number\n    onAssetsProgress: (frac: number) => void\n    onFontsReady: (done: boolean) => void\n}\n\nfunction waitForStrictAssets(opts: StrictOpts) {\n    const root: ParentNode = opts.scopeSelector\n        ? (document.querySelector(opts.scopeSelector) as ParentNode) || document\n        : document\n\n    let total = 0,\n        done = 0,\n        pending = 0\n    let quietTO: number | undefined\n    let resolveQuiet!: () => void\n    const quietPromise = new Promise<void>((res) => (resolveQuiet = res))\n\n    const recompute = () => {\n        const frac = total ? done / total : 1\n        opts.onAssetsProgress(frac)\n    }\n    const scheduleQuiet = () => {\n        if (quietTO) clearTimeout(quietTO)\n        if (pending === 0) {\n            quietTO = window.setTimeout(() => {\n                if (pending === 0) resolveQuiet()\n            }, opts.quietMs)\n        }\n    }\n    const addAsset = (waiter: Promise<any>) => {\n        total += 1\n        pending += 1\n        waiter.finally(() => {\n            done += 1\n            pending -= 1\n            recompute()\n            scheduleQuiet()\n        })\n        recompute()\n    }\n\n    const anyDoc = document as any\n    const fontsReady = anyDoc.fonts?.ready\n        ? anyDoc.fonts.ready.catch(() => {})\n        : Promise.resolve()\n    fontsReady.finally(() => opts.onFontsReady(true))\n\n    const seenImgs = new WeakSet<HTMLImageElement>()\n    const handleImg = (img: HTMLImageElement) => {\n        if (seenImgs.has(img)) return\n        seenImgs.add(img)\n        if (img.complete) addAsset(Promise.resolve())\n        else if ((img as any).decode)\n            addAsset((img as any).decode().catch(() => {}))\n        else\n            addAsset(\n                new Promise<void>((res) => {\n                    const done = () => {\n                        img.removeEventListener(\"load\", done)\n                        img.removeEventListener(\"error\", done)\n                        res()\n                    }\n                    img.addEventListener(\"load\", done, { once: true })\n                    img.addEventListener(\"error\", done, { once: true })\n                })\n            )\n    }\n\n    const seenBg = new Set<string>()\n    const preloadBg = (url: string) => {\n        if (!url || seenBg.has(url)) return\n        seenBg.add(url)\n        addAsset(\n            new Promise<void>((res) => {\n                const i = new Image()\n                i.onload = () => res()\n                i.onerror = () => res()\n                ;(i as any).decoding = \"async\"\n                i.src = url\n            })\n        )\n    }\n    const extractBgUrls = (el: Element) => {\n        const s = getComputedStyle(el)\n        const bg = s.backgroundImage\n        if (!bg || bg === \"none\") return\n        const urls = Array.from(bg.matchAll(/url\\((['\"]?)(.*?)\\1\\)/g)).map(\n            (m) => m[2]\n        )\n        urls.forEach(preloadBg)\n    }\n\n    const docOrEl = root instanceof Document ? document : (root as Element)\n    docOrEl\n        .querySelectorAll?.(\"img\")\n        .forEach((n) => handleImg(n as HTMLImageElement))\n    if (opts.includeBackgrounds)\n        docOrEl\n            .querySelectorAll?.(\"*\")\n            .forEach((n) => extractBgUrls(n as Element))\n    scheduleQuiet()\n\n    const mo = new MutationObserver((muts) => {\n        muts.forEach((m) => {\n            m.addedNodes.forEach((node) => {\n                if (node.nodeType !== 1) return\n                const el = node as Element\n                if (el instanceof HTMLImageElement) handleImg(el)\n                el\n                    .querySelectorAll?.(\"img\")\n                    .forEach((img) => handleImg(img as HTMLImageElement))\n                if (opts.includeBackgrounds) extractBgUrls(el)\n            })\n        })\n        scheduleQuiet()\n    })\n    mo.observe(\n        docOrEl instanceof Document ? document.documentElement : docOrEl,\n        { childList: true, subtree: true }\n    )\n\n    return Promise.all([fontsReady.then(() => undefined), quietPromise]).then(\n        () => mo.disconnect()\n    )\n}\n\nfunction clampValue(n: number) {\n    return Math.max(0, Math.min(1, n))\n}\n\nfunction parseFontSizeValue(value?: number | string) {\n    if (value == null) return undefined\n    if (typeof value === \"number\" && isFinite(value)) return value\n    if (typeof value === \"string\") {\n        const match = value.trim().match(/^([0-9]*\\.?[0-9]+)/)\n        if (match) return parseFloat(match[1])\n    }\n    return undefined\n}\n\nfunction coalesce<T>(...values: Array<T | undefined | null>): T | undefined {\n    for (const value of values) {\n        if (value !== undefined && value !== null) return value\n    }\n    return undefined\n}\n\nfunction createGateEvent(target: EventTarget | null) {\n    let defaultPrevented = false\n    let propagationStopped = false\n    // Mimic React's SyntheticEvent shape so downstream Framer plumbing does not crash\n    return {\n        type: \"Load\",\n        target,\n        currentTarget: target,\n        timeStamp: performance.now(),\n        bubbles: true,\n        cancelable: true,\n        get defaultPrevented() {\n            return defaultPrevented\n        },\n        preventDefault() {\n            defaultPrevented = true\n        },\n        isDefaultPrevented() {\n            return defaultPrevented\n        },\n        stopPropagation() {\n            propagationStopped = true\n        },\n        isPropagationStopped() {\n            return propagationStopped\n        },\n        persist() {},\n        nativeEvent: undefined,\n    }\n}\n\ntype CustomReadyOptions = {\n    selector?: string\n    eventName?: string\n}\n\ntype CustomReadyHandle = {\n    promise: Promise<void>\n    cancel: () => void\n}\n\nfunction createCustomReadyWait(opts: CustomReadyOptions): CustomReadyHandle | null {\n    const selector = (opts.selector || \"\").trim()\n    if (!selector || typeof document === \"undefined\") return null\n\n    const eventName = (opts.eventName || \"load\").trim() || \"load\"\n    let resolve!: () => void\n    let finished = false\n    let pending = 0\n    let seenMatch = false\n    const teardownMap = new Map<Element, () => void>()\n\n    const promise = new Promise<void>((res) => (resolve = res))\n\n    let observer: MutationObserver | null = null\n\n    const cleanup = () => {\n        if (finished) return\n        finished = true\n        observer?.disconnect()\n        teardownMap.forEach((off) => off())\n        teardownMap.clear()\n        resolve()\n    }\n\n    const maybeFinish = () => {\n        if (pending === 0 && seenMatch) cleanup()\n    }\n\n    const settleElement = (el: Element) => {\n        const off = teardownMap.get(el)\n        if (!off) return\n        off()\n        teardownMap.delete(el)\n        pending -= 1\n        maybeFinish()\n    }\n\n    const isAlreadyLoaded = (el: Element) => {\n        if (eventName !== \"load\") return false\n        const anyEl = el as any\n        if (typeof anyEl.complete === \"boolean\" && anyEl.complete) return true\n        if (typeof anyEl.readyState === \"string\" && anyEl.readyState === \"complete\") return true\n        if (anyEl.dataset) {\n            if (anyEl.dataset.loaded === \"true\" || anyEl.dataset.ready === \"true\") return true\n        }\n        if (typeof anyEl.getAttribute === \"function\") {\n            const dl = anyEl.getAttribute(\"data-loaded\")\n            const dr = anyEl.getAttribute(\"data-ready\")\n            if (dl === \"true\" || dr === \"true\") return true\n        }\n        return false\n    }\n\n    const watchElement = (el: Element) => {\n        if (teardownMap.has(el)) return\n        seenMatch = true\n        if (isAlreadyLoaded(el)) {\n            maybeFinish()\n            return\n        }\n        pending += 1\n        const handler = () => settleElement(el)\n        el.addEventListener(eventName, handler, { once: true })\n        teardownMap.set(el, () => el.removeEventListener(eventName, handler))\n    }\n\n    const seed = Array.from(document.querySelectorAll(selector))\n    seed.forEach((el) => watchElement(el))\n    maybeFinish()\n\n    observer = new MutationObserver((muts) => {\n        muts.forEach((m) => {\n            m.addedNodes.forEach((node) => {\n                if (node.nodeType !== 1) return\n                const el = node as Element\n                if (el.matches(selector)) watchElement(el)\n                el.querySelectorAll?.(selector).forEach((match) => watchElement(match as Element))\n            })\n        })\n    })\n    observer.observe(document.documentElement, { childList: true, subtree: true })\n\n    if (pending === 0 && seenMatch) {\n        cleanup()\n    }\n\n    return {\n        promise,\n        cancel: () => {\n            if (finished) return\n            finished = true\n            observer?.disconnect()\n            teardownMap.forEach((off) => off())\n            teardownMap.clear()\n            resolve()\n        },\n    }\n}\n\nLoading.displayName = \"Loading...\"\n\nLoading.defaultProps = {\n    waitMode: \"FontsAndImages\" as WaitMode,\n    imageScopeSelector: \"\",\n    includeBackgrounds: true,\n    quietSeconds: 0.6,\n    minSeconds: 0.6,\n    timeoutSeconds: 12,\n    oncePerSession: false,\n    runInPreview: true,\n    hideWhenComplete: false,\n    customReadySelector: \"\",\n    customReadyEvent: \"load\",\n\n    loadBar: DEFAULT_LOAD_BAR,\n}\n\naddPropertyControls(Loading, {\n    waitMode: {\n        type: ControlType.Enum,\n        title: \"Wait For\",\n        options: [\"FontsAndImages\", \"WindowLoad\"],\n        optionTitles: [\"Fonts + Images\", \"Window load\"],\n    },\n    imageScopeSelector: {\n        type: ControlType.String,\n        title: \"Images in\u2026 (CSS)\",\n        placeholder: \"#hero, .aboveFold\",\n        hidden: (p) => p.waitMode === \"WindowLoad\",\n    },\n    includeBackgrounds: {\n        type: ControlType.Boolean,\n        title: \"Bg Images\",\n        defaultValue: true,\n        hidden: (p) => p.waitMode === \"WindowLoad\",\n    },\n    quietSeconds: {\n        type: ControlType.Number,\n        title: \"Quiet (s)\",\n        min: 0.2,\n        max: 5,\n        step: 0.1,\n        defaultValue: 0.6,\n        displayStepper: true,\n        hidden: (p) => p.waitMode === \"WindowLoad\",\n    },\n\n    minSeconds: {\n        type: ControlType.Number,\n        title: \"Min (s)\",\n        min: 0,\n        max: 10,\n        step: 0.1,\n        defaultValue: 0.6,\n        displayStepper: true,\n    },\n    timeoutSeconds: {\n        type: ControlType.Number,\n        title: \"Timeout (s)\",\n        min: 1,\n        max: 120,\n        step: 1,\n        defaultValue: 12,\n        displayStepper: true,\n    },\n    oncePerSession: {\n        type: ControlType.Boolean,\n        title: \"Once / Session\",\n        defaultValue: false,\n    },\n    runInPreview: {\n        type: ControlType.Boolean,\n        title: \"Run in Preview\",\n        defaultValue: true,\n    },\n    hideWhenComplete: {\n        type: ControlType.Boolean,\n        title: \"Hide When Complete\",\n        defaultValue: false,\n    },\n    customReadySelector: {\n        type: ControlType.String,\n        title: \"Wait Selector\",\n        placeholder: \"spline-viewer\",\n    },\n    customReadyEvent: {\n        type: ControlType.String,\n        title: \"Wait Event\",\n        placeholder: \"load\",\n        hidden: (p) => !p.customReadySelector,\n    },\n    bar: {\n        type: ControlType.Object,\n        title: \"Load Bar\",\n        controls: {\n            showProgressBar: {\n                type: ControlType.Boolean,\n                title: \"Show Progress Bar\",\n                defaultValue: DEFAULT_LOAD_BAR.showProgressBar,\n            },\n            barRadius: {\n                type: ControlType.Number,\n                title: \"Radius\",\n                min: 0,\n                max: 999,\n                defaultValue: DEFAULT_LOAD_BAR.barRadius,\n                displayStepper: true,\n                hidden: (bar: any = {}) => !(bar.showProgressBar ?? DEFAULT_LOAD_BAR.showProgressBar),\n            },\n            barColor: {\n                type: ControlType.Color,\n                title: \"Bar\",\n                defaultValue: DEFAULT_LOAD_BAR.barColor,\n                hidden: (bar: any = {}) => !(bar.showProgressBar ?? DEFAULT_LOAD_BAR.showProgressBar),\n            },\n            trackColor: {\n                type: ControlType.Color,\n                title: \"Track\",\n                defaultValue: DEFAULT_LOAD_BAR.trackColor,\n                hidden: (bar: any = {}) => !(bar.showProgressBar ?? DEFAULT_LOAD_BAR.showProgressBar),\n            },\n            waitBarFinish: {\n                type: ControlType.Boolean,\n                title: \"Wait Bar Finish\",\n                defaultValue: DEFAULT_LOAD_BAR.waitBarFinish,\n                hidden: (bar: any = {}) => !(bar.showProgressBar ?? DEFAULT_LOAD_BAR.showProgressBar),\n            },\n            finishHoldSeconds: {\n                type: ControlType.Number,\n                title: \"Finish Hold (s)\",\n                min: 0,\n                max: 2,\n                step: 0.05,\n                defaultValue: DEFAULT_LOAD_BAR.finishHoldSeconds,\n                hidden: (bar: any = {}) =>\n                    !(bar.showProgressBar ?? DEFAULT_LOAD_BAR.showProgressBar) ||\n                    !(bar.waitBarFinish ?? DEFAULT_LOAD_BAR.waitBarFinish),\n            },\n            showBorder: {\n                type: ControlType.Boolean,\n                title: \"Border\",\n                defaultValue: DEFAULT_LOAD_BAR.showBorder,\n                hidden: (bar: any = {}) => !(bar.showProgressBar ?? DEFAULT_LOAD_BAR.showProgressBar),\n            },\n            borderWidth: {\n                type: ControlType.Number,\n                title: \"Border Width\",\n                min: 1,\n                max: 12,\n                defaultValue: DEFAULT_LOAD_BAR.borderWidth,\n                displayStepper: true,\n                hidden: (bar: any = {}) =>\n                    !(bar.showProgressBar ?? DEFAULT_LOAD_BAR.showProgressBar) ||\n                    !(bar.showBorder ?? DEFAULT_LOAD_BAR.showBorder),\n            },\n            borderColor: {\n                type: ControlType.Color,\n                title: \"Border Color\",\n                defaultValue: DEFAULT_LOAD_BAR.borderColor,\n                hidden: (bar: any = {}) =>\n                    !(bar.showProgressBar ?? DEFAULT_LOAD_BAR.showProgressBar) ||\n                    !(bar.showBorder ?? DEFAULT_LOAD_BAR.showBorder),\n            },\n        },\n    },\n    label: {\n        type: ControlType.Object,\n        title: \"Label\",\n        controls: {\n            showLabel: {\n                type: ControlType.Boolean,\n                title: \"Show Label\",\n                defaultValue: DEFAULT_LOAD_BAR.showLabel,\n            },\n            labelColor: {\n                type: ControlType.Color,\n                title: \"Color\",\n                defaultValue: DEFAULT_LOAD_BAR.labelColor,\n                hidden: (label: any = {}) => !(label.showLabel ?? DEFAULT_LOAD_BAR.showLabel),\n            },\n            labelFont: {\n                type: ControlType.Font,\n                title: \"Font\",\n                defaultValue: {\n                    fontFamily: DEFAULT_LOAD_BAR.labelFontFamily,\n                    fontWeight: DEFAULT_LOAD_BAR.labelFontWeight,\n                    fontSize: `${DEFAULT_LOAD_BAR.labelFontSize}px`,\n                },\n                defaultFontType: \"sans-serif\",\n                defaultFontSize: `${DEFAULT_LOAD_BAR.labelFontSize}px`,\n                displayFontSize: true,\n                displayTextAlignment: false,\n                controls: \"extended\",\n                hidden: (label: any = {}) => !(label.showLabel ?? DEFAULT_LOAD_BAR.showLabel),\n            },\n            labelPosition: {\n                type: ControlType.Enum,\n                title: \"Align\",\n                options: [\"left\", \"center\", \"right\"],\n                optionTitles: [\"Left\", \"Center\", \"Right\"],\n                displaySegmentedControl: true,\n                defaultValue: DEFAULT_LOAD_BAR.labelPosition,\n                hidden: (label: any = {}) => !(label.showLabel ?? DEFAULT_LOAD_BAR.showLabel),\n            },\n            labelPlacement: {\n                type: ControlType.Enum,\n                title: \"Placement\",\n                options: [\"inside\", \"outside\"],\n                optionTitles: [\"Inside\", \"Outside\"],\n                displaySegmentedControl: true,\n                defaultValue: DEFAULT_LOAD_BAR.labelPlacement,\n                hidden: (label: any = {}) => !(label.showLabel ?? DEFAULT_LOAD_BAR.showLabel),\n            },\n            labelOutsideDirection: {\n                type: ControlType.Enum,\n                title: \"Outside Align\",\n                options: [\"top\", \"bottom\"],\n                optionTitles: [\"Top\", \"Bottom\"],\n                displaySegmentedControl: true,\n                defaultValue: DEFAULT_LOAD_BAR.labelOutsideDirection,\n                hidden: (label: any = {}) =>\n                    !(label.showLabel ?? DEFAULT_LOAD_BAR.showLabel) ||\n                    (label.labelPlacement ?? DEFAULT_LOAD_BAR.labelPlacement) !== \"outside\",\n            },\n        },\n    },\n    onReady: { type: ControlType.EventHandler, title: \"onReady\" },\n})\n"],
  "mappings": "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",
  "names": ["done"]
}
